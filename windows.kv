WindowManager:
    MainWindow:
    SecondWindow:
    ThirdWindow:
    FourthWindow:
    FifthWindow:
    SixthWindow:
    
<MainWindow>:
    name: "main"
    namk: labk
    namk1:labk1
    on_enter:
        root.touchcheck()
        root.sync()
    on_leave: 
    FloatLayout:
        canvas.before:
            Color:
                rgba: (255/255, 226/255, 2/255, 1)
            Rectangle:
                pos: self.pos
                size:self.size
        Image:
            source: '/home/pi/Documents/KIOSKO_EndUser_12/WALL01.jpg'
            size: self.texture_size
            #anim_loop: 0 # solo si es animada          
        
        Label:
            id: labk
            text: "BIENVENIDO A"
            color: (0/255, 0/255, 0/255, 1)
            font_size: 90
            size_hint: None, None
            size: 100, 100
            pos_hint: {'x':.45, 'y':.8} 
        
        Label:
            id: labk1
            text: ""
            color: (196/255, 150/255, 150/255, 1)
            font_size: 40
            size_hint: None, None
            #size: 100, 100
            pos_hint: {'x':.45, 'y':0.01} 
        
        
        Button:
            id: check1
            text: "Check-In"
            #font_name: 'DroidSans'
            background_color: (0.5, 0.7, 0.5, 0.9)
            font_size: 72
            size_hint: None, None
            size: 350, 200
            #pos: 200,200 #posición fija
            pos_hint: {'x':.01, 'y':.01} #posición variable al porcentaje de pantalla
            on_release:
                app.root.current = "checkin" #if passw.text == "tim" else "main"
                root.manager.transition.direction = "left"
                
        Button:
            id: set1
            text: "Set"
            background_color: (0.5, 0.7, 0.5, 0.9)
            font_size: 72
            size_hint: None, None
            size: 350, 200
            #pos: 800, 20
            pos_hint: {'x':.73, 'y':.01}
            on_press: app.root.current = "lista"

          
<SecondWindow>:
    name: "set"
    
<ThirdWindow>
    name: "third"
    on_enter:
        root.openprocess()
        root.buildcam()
    on_leave:
        root.closeprocess()
        root.buildcam()
    img1: img1k
    FloatLayout:
        Image:
            id: img1k
            source: ''
            texture: self.texture
            
        Button:
            id: SI21
            text: "BACK"
            #font_name: 'DroidSans'
            background_color: (0.5, 0.7, 0.5, 0.9)
            font_size: 72
            size_hint: None, None
            size: 250, 250
            pos: 20, 20
            on_release:
                app.root.current = "main"
                
<FourthWindow>:
    name: "checkin" #checador de rostro.
    on_enter:
        root.openprocess()
        root.readface()
    on_leave:
        root.closeprocess()
        root.readface()
    img2: img2k
    lab4: labk4
    botoni4: botoni4k
    botonc4: botonc4k
    botond4: botond4k
    FloatLayout:
        
        TextInput:
            pos_hint: {"x":0.45, "top":0.17}
            size_hint: 0.1, 0.08
            id: idcapnow
            multiline: False
            font_size: 40
            focus: True
        
        Label:
            id: labk4
            text: ''
            color: (173/255, 120/255, 40/255, 0.9)
            font_size: 90
            size_hint: None, None
            size: 100, 100
            pos_hint: {'x':.45, 'y':.85}     
        
        Image:
            id: img2k
            source: ''
            texture: self.texture
            
        Button:
            id: botoni4k
            text: ""
            #font_name: 'DroidSans'
            background_color: (0.5, 0.7, 0.5, 0.9)
            font_size: 72
            size_hint: None, None
            size: 350, 200
            #pos: 200,200 #posición fija
            pos_hint: {'x':.01, 'y':.01} #posición variable al porcentaje de pantalla
            on_release:
                root.checkindone()
                    
        Button:
            id: botonc4k
            text: "Main"
            background_color: (0.5, 0.7, 0.5, 0.9)
            font_size: 18
            size_hint: None, None
            size: 200, 50
            #pos: 800, 20
            pos_hint: {'x':.43, 'y':.01}
            on_release: app.root.current = "main"
            
        Button:
            id: botond4k
            text: ""
            #font_name: 'DroidSans'
            background_color: (0.5, 0.7, 0.5, 0.9)
            font_size: 72
            size_hint: None, None
            size: 350, 200
            #pos: 200,200 #posición fija
            pos_hint: {'x':.73, 'y':.01} #posición variable al porcentaje de pantalla
            on_release:
                root.newindone()

<FifthWindow>:
    name: "lista"
    on_enter:
        root.getpendingusers()
    userlist: userlistk
    lab5: labk5
    img5: img5k
    FloatLayout:
        cols: 1
        
        canvas.before:
            Color:
                rgba: (255/255, 226/255, 2/255, 1)
            Rectangle:
                pos: self.pos
                size:self.size
        
        FloatLayout:
            cols: 1
            
            TextInput:
                pos_hint: {"x":0.3, "top":0.95}
                size_hint: 0.4, 0.12
                id: idcap
                multiline: False
                font_size: (root.width**2 + root.height**2) / 14**4
                focus: True
                               
        Label:
            id: labk5
            text: ''
            color: (0/255, 0/255, 0/255, 1)
            font_size: 32
            size_hint: None, None
            size: 100, 100
            pos_hint: {'x':.45, 'y':.55}
        
        Image:
            id: img5k
                    
        RecycleView:
            id: userlistk
            viewclass: 'Button'  # defines the viewtype for the data items. 
            orientation: "vertical"
            #spacing: 100
            #padding:0, 10
            #space_x: self.size[0]/3
            pos_hint: {'x':.39, 'y':.1}
            RecycleBoxLayout:
                color:(0, 0.7, 0.4, 0.8)
                default_size: 300, 30
                orientation: 'vertical' # d
                
        Button:
            id: back5
            text: "Regresar"
            background_color: (0.5, 0.7, 0.5, 0.9)
            font_size: 72
            size_hint: None, None
            size: 350, 200
            #pos: 800, 20
            pos_hint: {'x':.01, 'y':.01}
            on_press:
                app.root.current = "main"
                
        Button:
            id: capture
            text: "Capturar"
            background_color: (0.5, 0.7, 0.5, 0.9)
            font_size: 72
            size_hint: None, None
            size: 350, 200
            #pos: 800, 20
            pos_hint: {'x':.73, 'y':.01}
            on_release:
                root.getid()
        Button:
            id: updatelist
            text: "Actualizar Local"
            background_color: (0.5, 0.7, 0.5, 0.9)
            font_size: 18
            size_hint: None, None
            size: 200, 50
            #pos: 800, 20
            pos_hint: {'x':.43, 'y':.01}
            on_press:
                root.traincv()

<SixthWindow>:
    name: "getnewface"
    on_enter:
        root.openprocess()
        root.newface()
        root.lamp()
    on_leave:
        root.closeprocess()
        root.newface()
    img3: img3k
    
    FloatLayout:    
        Image:
            id: img3k
            source: ''
            texture: self.texture
            
        Button:
            id: back5
            text: "Regresar"
            background_color: (0.5, 0.7, 0.5, 0.9)
            font_size: 72
            size_hint: None, None
            size: 350, 200
            #pos: 800, 20
            pos_hint: {'x':.73, 'y':.01}
            on_release: app.root.current = "lista"


